# usage: load startup and configure VAO renderer. Then execute this script
from falcor import *

vao_graph = m.getGraph("VAO")
vao = vao_graph.getPass("VAO")


positions = [25.7065,6.61695,3.42761,12.8217,5.79862,2.76416,-5.07658,5.47222,3.67749,-9.37473,5.44639,2.09217,5.96838,5.68317,0.668213,-10.2369,5.91129,0.30579,-19.7892,5.41077,2.2092,-22.5734,7.13505,6.48577,6.79212,5.66258,11.842,-7.58133,5.80742,11.4618,14.7574,6.69941,8.56402,23.6259,6.58506,9.72568,21.6392,5.88651,2.4717,12.0355,8.99658,2.35693,8.23659,16.6108,1.19992,8.23659,16.6108,1.19992,4.76168,16.5352,-0.350724,-6.8907,15.0175,0.160707,-6.05044,14.581,0.783574,2.11089,4.94168,1.93609,-5.99906,6.62889,1.82178,10.2836,16.8653,-7.88203,21.593,16.0875,-9.50033,32.4549,39.1361,-11.8041,4.5339,36.5629,9.38034,-5.01549,31.2946,3.81409,11.311,3.68396,3.84579,15.0311,6.53672,2.68082,-11.3433,5.69505,2.48735,16.3588,5.07962,-0.649328,-11.6314,6.19154,10.7629,-6.03809,3.7001,8.50334,]
targets = [24.7505,6.46447,3.17678,12.1562,5.7111,2.0229,-4.6679,5.48448,2.76489,-8.38949,5.46165,1.92169,6.54859,5.67742,1.48267,-10.9849,5.89355,0.969219,-19.933,5.33612,3.19599,-21.7192,6.97361,6.97992,7.39315,5.502,11.059,-8.22843,5.66846,10.7122,15.7042,6.53445,8.84008,23.9625,6.48682,8.78918,22.6168,5.95971,2.27418,12.8991,9.35294,2.00025,9.07092,16.4586,0.670076,9.07157,16.4831,1.73518,4.24457,16.3297,0.480175,-7.85496,14.9153,0.405209,-6.83912,15.1948,0.817809,1.33723,5.52569,1.69036,-5.08222,7.02802,1.83102,11.2752,16.7834,-7.78122,22.0082,16.0115,-8.59375,31.6031,38.7792,-11.4204,3.86504,36.0953,8.8025,-4.499,30.4652,3.60104,12.0031,4.26789,4.27004,14.3146,6.39515,3.36387,-10.6241,5.58887,3.17399,16.9359,5.25241,0.14887,-12.4399,6.16004,10.1752,-6.91396,3.77337,8.02638,]
ups = [0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-0.00751584,0.99995,0.00659547,0.00143717,0.99995,-0.00985997,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-0.000788214,1,3.42144e-05,0.000774104,1,0.000245874,-0.000917203,1,-9.24193e-06,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,-0.000692526,1,-0.000424493,0,1,0,-0.000719118,1,-0.000686555,0.00576044,0.999952,0.00796759,0,1,0,0,1,0,]


num_cameras = len(positions) // 3

for i in range(num_cameras):
	# set camera
	m.scene.camera.position = float3(positions[i*3], positions[i*3+1], positions[i*3+2])
	m.scene.camera.target = float3(targets[i*3], targets[i*3+1], targets[i*3+2])
	m.scene.camera.up = float3(ups[i*3], ups[i*3+1], ups[i*3+2])
	# capture depths
	vao.saveDepths()
	renderFrame()